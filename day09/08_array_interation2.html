<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array 심화 메서드 예제</title>
</head>
<body>
    <h1>F12를 눌러 콘솔을 확인하세요.</h1>

    <script>
        const numbers = [1, 2, 3, 4, 5];
        const numbersWithNegative = [10, 20, -5, 30];

        console.log("--- 원본 배열 ---");
        console.log("numbers:", numbers);
        console.log("numbersWithNegative:", numbersWithNegative);
        console.log("\n");

        /*
         * 1. Array.prototype.reduce()
         * - 배열의 각 요소에 대해 주어진 '리듀서(reducer)' 함수를 실행하고, 하나의 결과값을 반환합니다.
         * - 배열의 모든 요소를 합산하거나, 객체를 만드는 등 다양한 용도로 활용됩니다.
         * - 형식: array.reduce((accumulator, currentValue) => { ... }, initialValue)
         *   - accumulator (누산기): 콜백의 반환값을 누적합니다.
         *   - currentValue (현재 값): 처리할 현재 요소입니다.
         *   - initialValue (초기값, 선택사항): 최초 호출에서 accumulator에 할당될 값입니다.
         */
        console.log("--- 1. reduce() 예제 ---");

        // 예제 1-1: 배열의 모든 숫자 합산하기
        // 초기값 0부터 시작해서, 각 숫자를 더해나갑니다.
        const sum = numbers.reduce((accumulator, currentValue) => {
            console.log(`(중간 과정) accumulator: ${accumulator}, currentValue: ${currentValue}`);
            return accumulator + currentValue;
        }, 0); // 초기값을 0으로 설정

        console.log("reduce()로 계산한 총합:", sum); // 결과: 15
        console.log("\n");


        /*
         * 2. Array.prototype.every()
         * - 배열 안의 '모든' 요소가 제공된 함수로 구현된 테스트를 통과하는지 확인합니다.
         * - 결과는 boolean (true 또는 false) 값입니다.
         * - 하나라도 false를 반환하는 요소를 만나면 즉시 순회를 멈추고 false를 반환합니다.
         */
        console.log("--- 2. every() 예제 ---");

        // 예제 2-1: 모든 요소가 0보다 큰지 확인
        const allPositive = numbers.every(num => num > 0);
        console.log("numbers 배열의 모든 요소는 0보다 큰가?:", allPositive); // 결과: true

        // 예제 2-2: 음수가 포함된 배열에서 모든 요소가 0보다 큰지 확인
        const allPositive2 = numbersWithNegative.every(num => num > 0);
        console.log("numbersWithNegative 배열의 모든 요소는 0보다 큰가?:", allPositive2); // 결과: false (-5 때문에)
        console.log("\n");


        /*
         * 3. Array.prototype.some()
         * - 배열 안의 '어떤' 요소라도 (하나라도) 제공된 함수로 구현된 테스트를 통과하는지 확인합니다.
         * - 결과는 boolean (true 또는 false) 값입니다.
         * - 하나라도 true를 반환하는 요소를 만나면 즉시 순회를 멈추고 true를 반환합니다.
         */
        console.log("--- 3. some() 예제 ---");

        // 예제 3-1: 짝수가 하나라도 있는지 확인
        const hasEvenNumber = numbers.some(num => num % 2 === 0);
        console.log("numbers 배열에 짝수가 하나라도 있는가?:", hasEvenNumber); // 결과: true (2와 4 때문에)

        // 예제 3-2: 음수가 하나라도 있는지 확인
        const hasNegativeNumber = numbersWithNegative.some(num => num < 0);
        console.log("numbersWithNegative 배열에 음수가 하나라도 있는가?:", hasNegativeNumber); // 결과: true (-5 때문에)
        console.log("\n");

    </script>
</body>
</html>