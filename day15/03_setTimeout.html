<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>setTimeout & clearTimeout 예제</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            padding: 20px;
        }
        button {
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            margin-right: 10px;
        }
        #message-box {
            margin-top: 20px;
            font-size: 1.2rem;
            border: 1px solid #ccc;
            padding: 15px;
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1>setTimeout & clearTimeout 예제</h1>
    <p>
        <code>setTimeout(callback, delay)</code>: 지정된 시간(밀리초) 후에 콜백 함수를 <strong>한 번</strong> 실행합니다. <br>
        비동기적으로 동작하므로, 코드가 기다리지 않고 다음 줄로 넘어갑니다. <br>
        실행 예약 후, 해당 타이머를 식별할 수 있는 '타이머 ID'를 반환합니다.
    </p>
    <p>
        <code>clearTimeout(timerId)</code>: <code>setTimeout</code>으로 설정된 타이머를 취소합니다.
    </p>

    <button id="start-btn">3초 후 메시지 보이기</button>
    <button id="cancel-btn">메시지 보이기 취소</button>
    <p id="message-box">여기에 메시지가 표시됩니다.</p>

    <script>
        const startBtn = document.getElementById('start-btn');
        const cancelBtn = document.getElementById('cancel-btn');
        const messageBox = document.getElementById('message-box');

        let timerId = null; // 타이머 ID를 저장할 변수

        startBtn.addEventListener('click', () => {
            messageBox.textContent = '3초 후에 메시지가 나타납니다...';
            // 3초(3000ms) 후에 함수 실행을 예약하고, 반환된 ID를 저장합니다.
            timerId = setTimeout(() => {
                messageBox.textContent = '짜잔! 3초가 지났습니다!';
            }, 3000);
        });

        cancelBtn.addEventListener('click', () => {
            if (timerId) {
                clearTimeout(timerId); // 저장된 ID로 타이머를 취소합니다.
                messageBox.textContent = '메시지 보이기가 취소되었습니다.';
                timerId = null; // ID 변수 초기화
            } else {
                messageBox.textContent = '시작된 타이머가 없습니다.';
            }
        });
    </script>
</body>
</html>